@*@model List<GridLogikViewer.APIModels.GetAllinstancedata>*@
@{
    ViewBag.Title = "ABT Meter Details";
    Layout = "~/Views/Shared/_EToolsLayout1.cshtml";
}
<style>
    .table-style_01 th, .table-style_01 td {
        background: #2f2f2f !important;
        color: #17bab8;
        font-size: 16px;
        text-align: center;
    }

    .table-style_02 th, .table-style_02 td {
        background: #2f2f2f !important;
        color: #ed9979;
        font-size: 16px;
        text-align: center;
    }

    .table-style_03 th, .table-style_03 td {
        background: #2f2f2f !important;
        color: #f02d99;
        font-size: 16px;
        text-align: center;
    }

    .table-style_04 th, .table-style_04 td {
        background: #2f2f2f !important;
        color: #ebd504;
        font-size: 16px;
        text-align: center;
    }

    .table-style_05 th, .table-style_05 td {
        background: #2f2f2f !important;
        color: #00adef;
        font-size: 16px;
        text-align: center;
    }

    .table-style_06 th, .table-style_06 td {
        background: #2f2f2f !important;
        color: #83c338;
        font-size: 16px;
        text-align: center;
    }

    .table-hover_01 > tbody > tr:hover > td, .table-hover_01 > tbody > tr:hover > th {
        background-color: #f00 !important;
    }

    .panel-default > .panel-heading {
        padding: 2px 10px;
    }

    .bgimg {
        background-image: url('../Content/images/CHP.png');
    }
</style>
<div class="col-lg-12">

    <div class="form-group col-md-4" style="border:0px solid #f00;">
        <h2></h2>

    </div>

</div>
<br />
@*background-image: url(/Content/images/CHP.png); background-size: 100px 100px*@
@*kunal new abt*@
<div class="row">
    <div class="col-lg-12" style="border: 0px solid #000;">
        <div class="panel panel-default">
            <div class="panel-heading">
                @*<div class=" dashboard-panel-body-box" style="font-size:16px; font-weight:bold;">SLD One<!--<b style="font-size:16px;">Energy</b>--></div>*@

            </div>
            <div class="col-lg-12" style="border:0px solid  #000; padding:0px;">
                <div class="col-lg-12" style="border:0px solid  #000; ">
                    <div class="panel panel-default">

                        <table class="table table-bordered results">

                            <tbody class="table-style_02 ">
                                <tr>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">Parameter </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">
                                        <select id="DataParameter" name="DataParameter" size="1">
                                            <option>KW</option>
                                            <option>KWH</option>


                                        </select>
                                    </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">Date </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row"><input type="text" id="datepicker" /> </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">Start Time </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">
                                        <select id="DataParameter1" name="DataParameter" size="1">
                                            <option>00:00</option>
                                            <option>00:15</option>
                                            <option>00:30</option>
                                            <option>00:45</option>
                                            <option>01:00</option>
                                            <option>01:15</option>
                                            <option>01:30</option>
                                            <option>01:45</option>
                                            <option>02:00</option>
                                            <option>02:15</option>
                                            <option>02:30</option>
                                            <option>02:45</option>
                                            <option>03:00</option>
                                            <option>03:15</option>
                                            <option>03:30</option>
                                            <option>03:45</option>
                                            <option>04:00</option>
                                            <option>04:15</option>
                                            <option>04:30</option>
                                            <option>04:45</option>
                                            <option>05:00</option>
                                            <option>05:15</option>
                                            <option>05:30</option>
                                            <option>05:45</option>
                                            <option>06:00</option>
                                            <option>06:15</option>
                                            <option>06:30</option>
                                            <option>06:45</option>
                                            <option>07:00</option>
                                            <option>07:15</option>
                                            <option>07:30</option>
                                            <option>07:45</option>
                                            <option>08:00</option>
                                            <option>08:15</option>
                                            <option>08:30</option>
                                            <option>08:45</option>
                                            <option>09:00</option>
                                            <option>09:15</option>
                                            <option>09:30</option>
                                            <option>09:45</option>
                                            <option>10:00</option>
                                            <option>10:15</option>
                                            <option>10:30</option>
                                            <option>10:45</option>
                                            <option>11:00</option>
                                            <option>11:15</option>
                                            <option>11:30</option>
                                            <option>11:45</option>
                                            <option>12:00</option>
                                            <option>12:15</option>
                                            <option>12:30</option>
                                            <option>12:45</option>
                                            <option>13:00</option>
                                            <option>13:15</option>
                                            <option>13:30</option>
                                            <option>13:45</option>
                                            <option>14:00</option>
                                            <option>14:15</option>
                                            <option>14:30</option>
                                            <option>14:45</option>
                                            <option>15:00</option>
                                            <option>15:15</option>
                                            <option>15:30</option>
                                            <option>15:45</option>
                                            <option>16:00</option>
                                            <option>16:15</option>
                                            <option>16:30</option>
                                            <option>16:45</option>
                                            <option>17:00</option>
                                            <option>17:15</option>
                                            <option>17:30</option>
                                            <option>17:45</option>
                                            <option>18:00</option>
                                            <option>18:15</option>
                                            <option>18:30</option>
                                            <option>18:45</option>
                                            <option>19:00</option>
                                            <option>19:15</option>
                                            <option>19:30</option>
                                            <option>19:45</option>
                                            <option>20:00</option>
                                            <option>20:15</option>
                                            <option>20:30</option>
                                            <option>20:45</option>
                                            <option>21:00</option>
                                            <option>21:15</option>
                                            <option>21:30</option>
                                            <option>21:45</option>
                                            <option>22:00</option>
                                            <option>22:15</option>
                                            <option>22:30</option>
                                            <option>22:45</option>
                                            <option>23:00</option>
                                            <option>23:15</option>
                                            <option>23:30</option>
                                            <option>23:45</option>

                                        </select>
                                    </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">End Time </th>
                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row">
                                        <select id="DataParameter2" name="DataParameter" size="1">
                                            <option>00:00</option>
                                            <option>00:15</option>
                                            <option>00:30</option>
                                            <option>00:45</option>
                                            <option>01:00</option>
                                            <option>01:15</option>
                                            <option>01:30</option>
                                            <option>01:45</option>
                                            <option>02:00</option>
                                            <option>02:15</option>
                                            <option>02:30</option>
                                            <option>02:45</option>
                                            <option>03:00</option>
                                            <option>03:15</option>
                                            <option>03:30</option>
                                            <option>03:45</option>
                                            <option>04:00</option>
                                            <option>04:15</option>
                                            <option>04:30</option>
                                            <option>04:45</option>
                                            <option>05:00</option>
                                            <option>05:15</option>
                                            <option>05:30</option>
                                            <option>05:45</option>
                                            <option>06:00</option>
                                            <option>06:15</option>
                                            <option>06:30</option>
                                            <option>06:45</option>
                                            <option>07:00</option>
                                            <option>07:15</option>
                                            <option>07:30</option>
                                            <option>07:45</option>
                                            <option>08:00</option>
                                            <option>08:15</option>
                                            <option>08:30</option>
                                            <option>08:45</option>
                                            <option>09:00</option>
                                            <option>09:15</option>
                                            <option>09:30</option>
                                            <option>09:45</option>
                                            <option>10:00</option>
                                            <option>10:15</option>
                                            <option>10:30</option>
                                            <option>10:45</option>
                                            <option>11:00</option>
                                            <option>11:15</option>
                                            <option>11:30</option>
                                            <option>11:45</option>
                                            <option>12:00</option>
                                            <option>12:15</option>
                                            <option>12:30</option>
                                            <option>12:45</option>
                                            <option>13:00</option>
                                            <option>13:15</option>
                                            <option>13:30</option>
                                            <option>13:45</option>
                                            <option>14:00</option>
                                            <option>14:15</option>
                                            <option>14:30</option>
                                            <option>14:45</option>
                                            <option>15:00</option>
                                            <option>15:15</option>
                                            <option>15:30</option>
                                            <option>15:45</option>
                                            <option>16:00</option>
                                            <option>16:15</option>
                                            <option>16:30</option>
                                            <option>16:45</option>
                                            <option>17:00</option>
                                            <option>17:15</option>
                                            <option>17:30</option>
                                            <option>17:45</option>
                                            <option>18:00</option>
                                            <option>18:15</option>
                                            <option>18:30</option>
                                            <option>18:45</option>
                                            <option>19:00</option>
                                            <option>19:15</option>
                                            <option>19:30</option>
                                            <option>19:45</option>
                                            <option>20:00</option>
                                            <option>20:15</option>
                                            <option>20:30</option>
                                            <option>20:45</option>
                                            <option>21:00</option>
                                            <option>21:15</option>
                                            <option>21:30</option>
                                            <option>21:45</option>
                                            <option>22:00</option>
                                            <option>22:15</option>
                                            <option>22:30</option>
                                            <option>22:45</option>
                                            <option>23:00</option>
                                            <option>23:15</option>
                                            <option>23:30</option>
                                            <option>23:45</option>

                                        </select>
                                    </th>

                                    <th style=" background:#0f0f0f !important;color:#f7943c; padding:0px;" scope="row"><button type="button" id="Submit">Submit</button>  </th>
                                </tr>

                            </tbody>
                        </table>

                        <!-- Modal03 popup -->
                        <!--/col-->

                    </div>
                </div>
            </div>
            @*<div class="col-lg-3" style="border: 0px solid #000; padding:4px;">
                    <label id="1" style=" font-size: 20px; color: black">
                        Parameter:
                    </label>
                    <select id="DataParameter" name="DataParameter" size="1" style="position: absolute;  font-size: 20px; color: maroon; width: 20%">
                        <option>KW</option>
                        <option>KWH</option>

                    </select>

                </div>
                <div class="col-lg-4" style="border: 0px solid #000; padding:4px;">
                    <label id="1" style=" font-size: 20px; color: black">Date:  <input type="text" id="datepicker" /></label>
                </div>*@
            <div style=" height:700px;width:1080px;   border: 0px solid #000; background-image: url(/Content/images/CHP.png);">

                <label id="1" style="position: absolute; top:100px; left: 510px; width: 100%; font-size: 20px; color: black">Plant Total</label>
                <label id="1" style="position: absolute; top:215px; left: 270px; width: 100%; font-size: 20px; color: black">Plant Total AC</label>
                <label id="1" style="position: absolute; top:215px; left:685px; width: 100%; font-size: 20px; color: black">Plant Total LIGHTING</label>
                <label id="1" style="position: absolute; top:215px; left:685px; width: 100%; font-size: 20px; color: black">Plant Total LIGHTING</label>
                <label id="1" style="position: absolute; top:215px; left:685px; width: 100%; font-size: 20px; color: black">Plant Total LIGHTING</label>
                <label id="1" style="position: absolute; top:215px; left:685px; width: 100%; font-size: 20px; color: black">Plant Total LIGHTING</label>

                <label id="1" style="position: absolute; top: 130px; left: 300px; width: 100%; font-size: 17px; color: black">VLL-</label>
                <label id="vll1" style="position: absolute; top: 130px; left: 350px; width: 100%; font-size: 17px; color: black"></label>
                <label id="2" style="position: absolute; top: 160px; left: 300px; width: 100%; font-size: 17px; color: black">IR-</label>
                <label id="ir1" style="position: absolute; top: 160px; left: 350px; width: 100%; font-size: 17px; color: black"></label>
                <label id="3" style="position: absolute; top: 190px; left: 300px; width: 100%;font-size:14px;color:black">IY-</label>
                <label id="iy1" style="position: absolute; top: 190px; left: 350px; width: 100%; font-size: 17px; color: black"></label>
                <label id="4" style="position: absolute; top: 220px; left: 300px; width: 100%; font-size: 16px; color: black">IB-</label>
                <label id="ib1" style="position: absolute; top: 220px; left: 350px; width: 100%; font-size: 17px; color: black"></label>
                <label id="5" style="position: absolute; top: 250px; left: 300px; width: 100%; font-size: 16px; color: black">PF-</label>
                <label id="pf1" style="position: absolute; top: 250px; left: 350px; width: 100%; font-size: 17px; color: black"></label>



                <label id="1" style="position: absolute; top: 130px; left: 850px; width: 100%; font-size: 17px; color: black">VLL-</label>
                <label id="vll2" style="position: absolute; top: 130px; left: 900px; width: 100%; font-size: 17px; color: black"></label>
                <label id="2" style="position: absolute; top: 160px; left: 850px; width: 100%; font-size: 17px; color: black">IR-</label>
                <label id="ir2" style="position: absolute; top: 160px; left: 900px; width: 100%; font-size: 17px; color: black"></label>
                <label id="3" style="position: absolute; top: 190px; left: 850px; width: 100%;font-size:14px;color:black">IY-</label>
                <label id="iy2" style="position: absolute; top: 190px; left: 900px; width: 100%; font-size: 17px; color: black"></label>
                <label id="4" style="position: absolute; top: 220px; left: 850px; width: 100%; font-size: 16px; color: black">IB-</label>
                <label id="ib2" style="position: absolute; top: 220px; left: 900px; width: 100%; font-size: 17px; color: black"></label>
                <label id="5" style="position: absolute; top: 250px; left: 850px; width: 100%; font-size: 16px; color: black">PF-</label>
                <label id="pf2" style="position: absolute; top: 250px; left: 900px; width: 100%; font-size: 17px; color: black"></label>

            </div>
        </div>
    </div>

</div>

<script>
    $(function () {
        $("#datepicker").datepicker({ minDate: -100, maxDate: "+0D" });
        $("#datepicker").datepicker("setDate", new Date());
        $("#datepicker").datepicker("option", "dateFormat", "dd/mm/yy");
    });
</script>
<script type="text/javascript">
    var ws, w1, w2;
    var meterId = "";
    var box;
    var data = "KW";
    var MeterString = "1,2,3,4,5";
    var MeterIdList = {
        "MeterString": MeterString

    };
    var ConfingArr = new Array();
    $(document).ready(function () {

        debugger
        $("#DataParameter").change(function () {
            data =
               {
                   Parameter: $('#DataParameter option:selected').text()
               };


        });
        $("#Submit").click(function () {
            //box = new ajaxLoader(this, { classOveride: 'blue-loader', bgColor: '#000' });
            // window.location.href = '@Url.Action("One", "ILFS")';
            LoadData();
        });
        ABTMeterDetails();
    });
    setInterval(ABTMeterDetails, 1000);
    function ABTMeterDetails() {

        if (data == "KW") {

            $.ajax({

                type: "POST",
                url: BaseAddress + "GetAllInstanceData/",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(MeterIdList),
                dataType: "json",

                success: function (response, status, jqXHR) {
                    debugger
                    var jsonObj = response.Data.result;
                    if (jsonObj != undefined && jsonObj.length > 0) {


                        jsonObj.forEach(function (responseobj) {
                            debugger
                            //var valueText = responseobj + "." + data;
                            //if (isNaN(valueText)) {

                            //    valueText = "0";

                            //}

                            if (responseobj.meterid == 1) {


                                // $("#1").html(valueText.toFixed(2).toString());
                                $("#vll1").html(responseobj.meter_name);
                                $("#ir1").html(responseobj.kw.toFixed(2).toString());
                                $("#iy1").html(responseobj.kw.toFixed(2).toString());
                                $("#ib1").html(responseobj.kw.toFixed(2).toString());
                                $("#pf1").html(responseobj.kw.toFixed(2).toString());


                            }
                            else if (responseobj.meterid == 2) {


                                $("#vll2").html(responseobj.kw.toFixed(2).toString());
                                $("#ir2").html(responseobj.kw.toFixed(2).toString());
                                $("#iy2").html(responseobj.kw.toFixed(2).toString());
                                $("#ib2").html(responseobj.kw.toFixed(2).toString());
                                $("#pf2").html(responseobj.kw.toFixed(2).toString());

                            }

                        });





                    }
                },
                error: function (xhr, status, error) {
                    if (box) box.remove();
                }
            });

        }
    }
    function LoadData() {
        debugger


        var date = $("#datepicker").val().toString();
        var time1 = $("#DataParameter1").val().toString();
        var time2 = $("#DataParameter2").val().toString();
        debugger
        var ConfingArrDATE = new Array();
        var ConfingArrTime1 = new Array();
        var ConfingArrTime2 = new Array();
        ConfingArrDATE = date.split('/');
        ConfingArrTime1 = time1.split(':');
        ConfingArrTime2 = time2.split(':');

        fromDay = ConfingArrDATE[0];
        fromMonth = ConfingArrDATE[1];
        fromyear = ConfingArrDATE[2];
        fromH1 = ConfingArrTime1[0];
        fromH2 = ConfingArrTime1[1];

        toDay = ConfingArrDATE[0];
        toMonth = ConfingArrDATE[1];
        toyear = ConfingArrDATE[2];
        toH1 = ConfingArrTime2[0];
        toH2 = ConfingArrTime2[1];
        debugger

        try {
            $.ajax({
                type: "GET",

                //meterid,Month,Year
                url: BaseAddress + "GetAllInstanceData/GetDayWiseData/" + fromDay + "/" + fromMonth + "/" + fromyear + "/" + fromH1 + "/" + fromH2 + "/" + toDay + "/" + toMonth + "/" + toyear + "/" + toH1 + "/" + toH2,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    debugger
                    var jsonObj = response;
                    if (jsonObj != undefined && jsonObj.length > 0) {


                        jsonObj.forEach(function (responseobj) {
                            debugger
                            //var valueText = responseobj + "." + data;
                            //if (isNaN(valueText)) {

                            //    valueText = "0";

                            //}

                            if (responseobj.meterid == 1) {


                                // $("#1").html(valueText.toFixed(2).toString());
                                $("#vll1").html(responseobj.kw.toFixed(2).toString());
                                $("#ir1").html(responseobj.kw.toFixed(2).toString());
                                $("#iy1").html(responseobj.kw.toFixed(2).toString());
                                $("#ib1").html(responseobj.kw.toFixed(2).toString());
                                $("#pf1").html(responseobj.kw.toFixed(2).toString());


                            }

                        });





                    }
                },
                error: function (xhr, status, error) {
                    if (box) box.remove();
                }
            });

        }
        catch (err) {
        }

    }
</script>