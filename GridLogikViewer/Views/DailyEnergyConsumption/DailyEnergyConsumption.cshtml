@model GridLogikViewer.APIModels.DailyEnergyConsumptionAPI
@using GridLogikViewer.Extensions
@{
    ViewBag.Title = "DailyEnergyConsumption";

}

<style>
    .ui-datepicker {
        z-index: 10000000 !important;
    }
</style>
<script>
    $(document).ready(function () {
        debugger;



        $("#ToDate").datepicker({
            changeMonth: true,
            changeYear: true
            //maxDate: '0'

        }).datepicker('setDate', new Date());


        $("#FromDate").datepicker({
            changeMonth: true,
            changeYear: true,
            maxDate: '0',



            onSelect: function (selected) {
                var dt = new Date(selected);
                dt.setDate(dt.getDate());
                var dt1 = new Date(selected);
                dt1.setDate(dt1.getDate() + 30);
                $("#ToDate").datepicker("option", "minDate", dt);
                $("#ToDate").datepicker("option", "maxDate", dt1);
            }



        }).datepicker('setDate', new Date());



        $("#btnExport").click(function () {
            debugger;
            var fromDate = new Date($("#FromDate").val());
            var fromday = ("0" + fromDate.getDate()).slice(-2); //fromDate.getDate();
            var frommonth = ("0" + (fromDate.getMonth() + 1)).slice(-2); //fromDate.getMonth() + 1;
            var fromyear = fromDate.getFullYear();
            var toDate = new Date($("#ToDate").val());
            var today = ("0" + toDate.getDate()).slice(-2); //toDate.getDate();
            var tomonth = ("0" + (toDate.getMonth() + 1)).slice(-2); //toDate.getMonth() + 1;
            var toyear = toDate.getFullYear();

            // window.location.href = '/HistoryDataExport/GetHistoryDataExport?fromday=' + fromday + '&frommonth=' + frommonth + '&fromyear=' + fromyear + '&today=' + today + '&tomonth=' + tomonth + '&toyear=' + toyear + '&parameter=' + $("#queryList").val() + "~" + $("#queryList option:selected").text() + '&groupid=' + $("#drpMeterGroupId").val();

            window.location.href = '/GridLogikViewer//DailyEnergyConsumption/GetDailyEnergyConsmpExport?fromday=' + fromday + '&frommonth=' + frommonth + '&fromyear=' + fromyear + '&today=' + today + '&tomonth=' + tomonth + '&toyear=' + toyear + '&frmtime=' + $("#FromTime").val() + '&totime=' + $("#ToTime").val() + '&groupid=' + $("#drpMeterGroupId").val();
        });

    });

</script>

<section>
    <div id="main-content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <!--Top header start-->
                    @*<h3 class="ls-top-header col-md-6">
                            Alarm Log
                        </h3>*@
                    <!--Top header end -->
                    <!--Top breadcrumb start -->
                    <ol class="breadcrumb col-md-12 text-left bgn">
                        <li><a href="#"><i class="fa fa-home"></i></a></li>
                        <li><a href="#">Configuration</a></li>
                        <li class="active">Daily Enery Consumption</li>
                    </ol>
                    <div class="row  mb55">
                        <div class="col-md-12">
                            @using (Html.BeginForm())
                            {
                                @Html.AntiForgeryToken()
                                <div class="panel panel-light-blue">
                                            <div class="panel-heading">
                                                <span class="pull-left">
                                                    <strong>
                                                        Daily Enery Consumption
                                                    </strong>
                                                </span>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="panel-body">
                                                <div class="form-group col-md-2">
                                                    <div class="col-md-12">
                                                        @Html.LabelForRequired(model => model.MeterGroupId, null, "control-label")
                                                    </div>
                                                        <div class="col-md-12">
                                                            @Html.DropDownListFor(model => Model.MeterGroupId, new SelectList(Model.MeterGroup, "Id", "GroupName"), "select", new { @id = "drpMeterGroupId", @class = "form-control", @name = "MeterGroup" })
                                                            @Html.ValidationMessageFor(model => model.MeterGroupId, null, new { @class = "validation-redcolor" })
                                                        </div>
                                                    
                                                    </div>
                                                <div class="form-group col-md-2">
                                                    <label class="col-md-12 control-label">From Date</label>
                                                    <div class="col-md-12">
                                                        <div id="dtFrmDate">
                                                            <input type="text" id="FromDate" class="form-control" />
                                                        </div>
                                                    </div>
                                                    </div>
                                                <div id="dtFrddmDate" class="form-group col-md-2">
                                                    <label class="col-md-12 control-label" for="ToDate">FromTime</label>
                                                    <select class="col-md-12 form-control" id="FromTime" name="FromTime" size="1">
                                                        <option>12:00 AM</option>
                                                        <option>12:15 AM</option>
                                                        <option>12:30 AM</option>
                                                        <option>12:45 AM</option>
                                                        <option>01:00 AM</option>
                                                        <option>01:15 AM</option>
                                                        <option>01:30 AM</option>
                                                        <option>01:45 AM</option>
                                                        <option>02:00 AM</option>
                                                        <option>02:15 AM</option>
                                                        <option>02:30 AM</option>
                                                        <option>02:45 AM</option>
                                                        <option>03:00 AM</option>
                                                        <option>03:15 AM</option>
                                                        <option>03:30 AM</option>
                                                        <option>03:45 AM</option>
                                                        <option>04:00 AM</option>
                                                        <option>04:15 AM</option>
                                                        <option>04:30 AM</option>
                                                        <option>04:45 AM</option>
                                                        <option>05:00 AM</option>
                                                        <option>05:15 AM</option>
                                                        <option>05:30 AM</option>
                                                        <option>05:45 AM</option>
                                                        <option>06:00 AM</option>
                                                        <option>06:15 AM</option>
                                                        <option>06:30 AM</option>
                                                        <option>06:45 AM</option>
                                                        <option>07:00 AM</option>
                                                        <option>07:15 AM</option>
                                                        <option>07:30 AM</option>
                                                        <option>07:45 AM</option>
                                                        <option>08:00 AM</option>
                                                        <option>08:15 AM</option>
                                                        <option>08:30 AM</option>
                                                        <option>08:45 AM</option>
                                                        <option>09:00 AM</option>
                                                        <option>09:15 AM</option>
                                                        <option>09:30 AM</option>
                                                        <option>09:45 AM</option>
                                                        <option>10:00 AM</option>
                                                        <option>10:15 AM</option>
                                                        <option>10:30 AM</option>
                                                        <option>10:45 AM</option>
                                                        <option>11:00 AM</option>
                                                        <option>11:15 AM</option>
                                                        <option>11:30 AM</option>
                                                        <option>11:45 AM</option>
                                                        <option>12:00 PM</option>
                                                        <option>12:15 PM</option>
                                                        <option>12:30 PM</option>
                                                        <option>12:45 PM</option>
                                                        <option>01:00 PM</option>
                                                        <option>01:15 PM</option>
                                                        <option>01:30 PM</option>
                                                        <option>01:45 PM</option>
                                                        <option>02:00 PM</option>
                                                        <option>02:15 PM</option>
                                                        <option>02:30 PM</option>
                                                        <option>02:45 PM</option>
                                                        <option>03:00 PM</option>
                                                        <option>03:15 PM</option>
                                                        <option>03:30 PM</option>
                                                        <option>03:45 PM</option>
                                                        <option>04:00 PM</option>
                                                        <option>04:15 PM</option>
                                                        <option>04:30 PM</option>
                                                        <option>04:45 PM</option>
                                                        <option>05:00 PM</option>
                                                        <option>05:15 PM</option>
                                                        <option>05:30 PM</option>
                                                        <option>05:45 PM</option>
                                                        <option>06:00 PM</option>
                                                        <option>06:15 PM</option>
                                                        <option>06:30 PM</option>
                                                        <option>06:45 PM</option>
                                                        <option>07:00 PM</option>
                                                        <option>07:15 PM</option>
                                                        <option>07:30 PM</option>
                                                        <option>07:45 PM</option>
                                                        <option>08:00 PM</option>
                                                        <option>08:15 PM</option>
                                                        <option>08:30 PM</option>
                                                        <option>08:45 PM</option>
                                                        <option>09:00 PM</option>
                                                        <option>09:15 PM</option>
                                                        <option>09:30 PM</option>
                                                        <option>09:45 PM</option>
                                                        <option>10:00 PM</option>
                                                        <option>10:15 PM</option>
                                                        <option>10:30 PM</option>
                                                        <option>10:45 PM</option>
                                                        <option>11:00 PM</option>
                                                        <option>11:15 PM</option>
                                                        <option>11:30 PM</option>
                                                        <option>11:45 PM</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-2">
                                                    <label class="col-md-12 control-label">To Date</label>
                                                        <div id="dtFrmDate" class="col-md-12">
                                                            <input type="text" id="ToDate" class="form-control" />
                                                        </div>
                                                </div>
                                                <div class="form-group col-md-2">
                                                    <label class="col-md-12 control-label" for="ToDate">ToTime</label>
                                                    <div id="dtFrddmDate" class="col-md-12">
                                                        <select id="ToTime" class="form-control" name="ToTime" size="1">
                                                            <option>12:00 AM</option>
                                                            <option>12:15 AM</option>
                                                            <option>12:30 AM</option>
                                                            <option>12:45 AM</option>
                                                            <option>01:00 AM</option>
                                                            <option>01:15 AM</option>
                                                            <option>01:30 AM</option>
                                                            <option>01:45 AM</option>
                                                            <option>02:00 AM</option>
                                                            <option>02:15 AM</option>
                                                            <option>02:30 AM</option>
                                                            <option>02:45 AM</option>
                                                            <option>03:00 AM</option>
                                                            <option>03:15 AM</option>
                                                            <option>03:30 AM</option>
                                                            <option>03:45 AM</option>
                                                            <option>04:00 AM</option>
                                                            <option>04:15 AM</option>
                                                            <option>04:30 AM</option>
                                                            <option>04:45 AM</option>
                                                            <option>05:00 AM</option>
                                                            <option>05:15 AM</option>
                                                            <option>05:30 AM</option>
                                                            <option>05:45 AM</option>
                                                            <option>06:00 AM</option>
                                                            <option>06:15 AM</option>
                                                            <option>06:30 AM</option>
                                                            <option>06:45 AM</option>
                                                            <option>07:00 AM</option>
                                                            <option>07:15 AM</option>
                                                            <option>07:30 AM</option>
                                                            <option>07:45 AM</option>
                                                            <option>08:00 AM</option>
                                                            <option>08:15 AM</option>
                                                            <option>08:30 AM</option>
                                                            <option>08:45 AM</option>
                                                            <option>09:00 AM</option>
                                                            <option>09:15 AM</option>
                                                            <option>09:30 AM</option>
                                                            <option>09:45 AM</option>
                                                            <option>10:00 AM</option>
                                                            <option>10:15 AM</option>
                                                            <option>10:30 AM</option>
                                                            <option>10:45 AM</option>
                                                            <option>11:00 AM</option>
                                                            <option>11:15 AM</option>
                                                            <option>11:30 AM</option>
                                                            <option>11:45 AM</option>
                                                            <option>12:00 PM</option>
                                                            <option>12:15 PM</option>
                                                            <option>12:30 PM</option>
                                                            <option>12:45 PM</option>
                                                            <option>01:00 PM</option>
                                                            <option>01:15 PM</option>
                                                            <option>01:30 PM</option>
                                                            <option>01:45 PM</option>
                                                            <option>02:00 PM</option>
                                                            <option>02:15 PM</option>
                                                            <option>02:30 PM</option>
                                                            <option>02:45 PM</option>
                                                            <option>03:00 PM</option>
                                                            <option>03:15 PM</option>
                                                            <option>03:30 PM</option>
                                                            <option>03:45 PM</option>
                                                            <option>04:00 PM</option>
                                                            <option>04:15 PM</option>
                                                            <option>04:30 PM</option>
                                                            <option>04:45 PM</option>
                                                            <option>05:00 PM</option>
                                                            <option>05:15 PM</option>
                                                            <option>05:30 PM</option>
                                                            <option>05:45 PM</option>
                                                            <option>06:00 PM</option>
                                                            <option>06:15 PM</option>
                                                            <option>06:30 PM</option>
                                                            <option>06:45 PM</option>
                                                            <option>07:00 PM</option>
                                                            <option>07:15 PM</option>
                                                            <option>07:30 PM</option>
                                                            <option>07:45 PM</option>
                                                            <option>08:00 PM</option>
                                                            <option>08:15 PM</option>
                                                            <option>08:30 PM</option>
                                                            <option>08:45 PM</option>
                                                            <option>09:00 PM</option>
                                                            <option>09:15 PM</option>
                                                            <option>09:30 PM</option>
                                                            <option>09:45 PM</option>
                                                            <option>10:00 PM</option>
                                                            <option>10:15 PM</option>
                                                            <option>10:30 PM</option>
                                                            <option>10:45 PM</option>
                                                            <option>11:00 PM</option>
                                                            <option>11:15 PM</option>
                                                            <option>11:30 PM</option>
                                                            <option>11:45 PM</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                    <div class="form-group col-md-1 pull-right">
                                                        <label class="col-md-12 control-label"> &nbsp;</label>
                                                        <button type="button" class="btn btn-danger" id="btnExport">Export</button>
                                                    </div>
                                                </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@Scripts.Render("~/bundles/jqueryval")